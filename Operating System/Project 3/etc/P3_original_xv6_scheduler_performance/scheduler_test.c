#include "types.h"
#include "stat.h"
#include "user.h"

#define TC 10
#define PNUM 60
int arr[TC][PNUM][2] = {
    {{81,28},{90,168},{13,194},{91,45},{63,62},{10,110},{28,38},{55,199},{95,200},{96,194},{16,146},{97,197},{95,22},{49,160},{80,60},{15,1},{42,23},{91,128},{79,176},{95,101},{65,160},{4,73},{85,43},{93,137},{68,80},{76,149},{74,95},{39,85},{65,35},{17,61},{70,160},{4,64},{28,175},{5,30},{10,199},{82,165},{69,26},{32,153},{95,99},{4,133},{44,26},{38,43},{76,11},{79,8},{19,82},{49,92},{45,98},{64,159},{71,185},{75,162},{28,142},{68,1},{65,143},{17,129},{12,92},{50,155},{96,115},{34,176},{58,162},{23,4},},
    {{75,165},{26,165},{51,189},{70,83},{89,85},{95,117},{55,32},{14,153},{15,47},{26,162},{84,198},{26,67},{81,60},{25,3},{92,44},{35,182},{20,170},{25,192},{61,156},{47,198},{35,14},{83,159},{58,119},{55,147},{91,140},{29,136},{75,79},{75,113},{38,42},{57,106},{8,81},{6,71},{53,119},{78,72},{93,193},{13,31},{57,79},{47,78},{2,146},{34,78},{17,186},{79,88},{31,173},{53,125},{17,24},{60,95},{27,69},{65,106},{69,144},{75,198},{45,145},{9,183},{23,102},{91,112},{16,101},{82,93},{54,110},{99,90},{8,171},{44,121},},
    {{11,100},{96,196},{1,7},{77,196},{81,73},{87,136},{9,70},{40,172},{26,10},{80,133},{43,150},{91,27},{19,197},{27,20},{15,57},{14,161},{87,16},{58,126},{55,2},{15,137},{85,107},{62,88},{35,40},{51,28},{40,77},{8,153},{24,9},{13,51},{19,101},{24,165},{42,197},{5,165},{90,61},{94,10},{49,50},{49,109},{34,178},{90,69},{37,7},{12,33},{78,176},{39,43},{24,55},{40,99},{10,45},{14,99},{94,191},{95,131},{57,152},{6,88},{24,111},{35,11},{82,65},{2,81},{5,182},{17,162},{65,52},{73,26},{65,99},{45,76},},
    {{55,144},{30,58},{74,125},{19,163},{68,63},{19,78},{37,69},{62,164},{78,134},{9,76},{93,92},{77,61},{49,183},{44,98},{45,152},{31,22},{51,79},{51,175},{81,73},{79,184},{64,109},{38,29},{81,40},{53,190},{35,199},{93,49},{87,4},{55,78},{62,156},{59,96},{21,109},{30,4},{47,181},{23,39},{84,178},{20,89},{23,30},{17,48},{23,160},{44,95},{31,18},{92,129},{43,127},{19,117},{90,146},{97,71},{44,137},{12,142},{26,33},{41,27},{59,90},{26,9},{60,160},{71,34},{22,167},{12,65},{30,132},{32,85},{42,157},{51,23},},
    {{9,199},{26,37},{80,153},{3,54},{92,49},{73,21},{49,69},{58,57},{24,194},{46,43},{96,122},{55,46},{52,38},{23,81},{49,83},{62,35},{68,60},{40,128},{37,31},{98,154},{4,177},{88,192},{91,4},{79,117},{10,154},{26,66},{34,26},{68,59},{14,170},{72,47},{11,101},{65,1},{49,3},{78,58},{71,20},{90,77},{89,72},{34,144},{70,14},{20,103},{4,85},{74,138},{50,51},{48,81},{90,53},{61,187},{62,95},{86,123},{80,98},{58,103},{19,50},{24,67},{88,101},{3,120},{49,63},{17,193},{97,47},{71,150},{50,65},{47,64},},
    {{6,191},{68,107},{5,175},{8,187},{52,134},{10,58},{81,14},{81,47},{72,141},{15,40},{66,85},{52,188},{97,29},{65,129},{80,95},{45,88},{43,49},{82,102},{9,182},{14,16},{18,143},{39,124},{83,38},{80,80},{6,56},{40,172},{53,182},{42,124},{66,37},{63,104},{29,165},{43,72},{2,164},{98,59},{17,35},{11,99},{37,40},{20,173},{49,41},{34,124},{95,176},{92,79},{6,190},{74,34},{27,195},{42,113},{55,120},{94,27},{42,114},{98,111},{30,63},{70,25},{66,148},{54,49},{70,165},{66,38},{18,63},{13,177},{99,135},{17,148},},
    {{4,13},{56,27},{88,18},{67,2},{19,92},{37,127},{46,106},{98,100},{16,68},{85,51},{64,47},{38,35},{19,120},{43,146},{48,176},{12,142},{59,47},{23,96},{39,4},{58,150},{25,131},{29,16},{62,95},{27,200},{82,107},{98,180},{73,155},{35,41},{58,182},{11,75},{90,170},{88,66},{81,66},{26,132},{59,118},{3,10},{43,154},{31,99},{16,98},{18,86},{42,79},{10,156},{60,195},{47,150},{69,127},{70,15},{64,127},{4,106},{7,60},{32,66},{53,127},{65,199},{41,104},{82,145},{72,50},{96,67},{53,150},{33,137},{11,137},{61,16},},
    {{78,92},{42,140},{9,14},{27,14},{16,106},{28,53},{44,97},{53,27},{46,19},{87,25},{52,194},{94,152},{64,54},{95,145},{24,84},{67,95},{29,12},{67,123},{69,99},{7,181},{26,188},{23,184},{67,61},{84,159},{35,46},{78,90},{67,103},{1,47},{60,143},{39,197},{91,132},{1,55},{46,94},{43,1},{46,90},{77,195},{32,61},{78,44},{47,50},{4,162},{18,98},{72,82},{47,44},{16,109},{34,145},{61,57},{19,109},{74,152},{25,67},{91,161},{27,172},{76,3},{19,177},{29,119},{10,18},{58,185},{68,183},{55,197},{43,181},{64,190},},
    {{65,187},{68,2},{63,156},{94,6},{21,118},{71,130},{24,66},{12,23},{61,25},{45,195},{46,107},{66,133},{77,142},{35,14},{66,42},{42,87},{84,3},{83,14},{26,69},{61,63},{58,199},{54,54},{87,172},{27,72},{32,150},{12,169},{94,44},{64,193},{48,143},{64,197},{54,152},{65,39},{54,71},{72,40},{52,167},{99,191},{22,154},{11,173},{11,92},{7,67},{41,168},{45,111},{37,25},{76,43},{63,99},{77,82},{93,152},{97,72},{20,155},{14,197},{69,170},{10,167},{53,74},{53,11},{86,196},{49,169},{39,174},{67,16},{74,7},{52,123},},
    {{35,148},{15,124},{59,133},{26,191},{5,54},{75,184},{25,24},{44,63},{69,175},{36,47},{73,162},{40,112},{68,189},{70,101},{44,134},{2,31},{33,195},{43,127},{27,36},{20,15},{82,99},{43,158},{88,93},{39,177},{77,130},{40,181},{81,2},{75,139},{38,118},{22,22},{79,199},{94,46},{33,67},{67,138},{44,193},{83,46},{77,185},{17,176},{86,87},{98,95},{51,113},{88,168},{59,30},{16,128},{20,200},{41,128},{75,88},{82,6},{79,17},{32,107},{53,157},{9,148},{12,39},{14,53},{68,91},{50,93},{19,135},{50,36},{15,38},{6,20},},
};

void scheduler_func() {
  for (int tc = 0; tc < TC; tc++) {
    printf(1, "turn around time\tresponse time\n");
    for (int i = 0; i < PNUM; i++) {
      int pid = fork();
      if (!pid) {
        set_sche_info(arr[tc][i][0], arr[tc][i][1]);
//      if (i % 2) sleep(5);
        while (1);
      }
    }
    for (int i = 0; i < PNUM; i++) wait();
  }
  printf(1, "end of scheduler_test\n");
}

int main() {
  scheduler_func();
  exit();
}
